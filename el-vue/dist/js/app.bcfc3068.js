(function(e){function t(t){for(var i,a,r=t[0],c=t[1],s=t[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(d.length)d.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(l.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},l=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var p=c;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"background-color":"#010101",width:"100%",padding:"0",margin:"0"},style:"height:"+e.pageHeight+"px",attrs:{id:"app"}},[n("router-view")],1)},l=[],a={name:"App",data:function(){return{pageHeight:document.documentElement.clientHeight}},components:{}},r=a,c=(n("034f"),n("2877")),s=Object(c["a"])(r,o,l,!1,null,null,null),p=s.exports,u=n("5c96"),d=n.n(u),f=(n("0fae"),"http://api.poi.wstudio.top:39002/");function h(){console.log("公共方法")}var v,m,y={apiUrl:f,commonFun:h},x=y,g=Object(c["a"])(x,v,m,!1,null,null,null),b=g.exports,w=n("8c4f"),_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{span:22}}),i("el-col",{attrs:{span:2}},[i("a",{staticStyle:{color:"#409eff"},attrs:{href:"http://api.poi.wstudio.top:39002/upload/template.xlsx"}},[e._v("模板文件")])])],1),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",{attrs:{span:6}},[i("img",{staticStyle:{width:"300px",position:"relative",top:"-20px"},attrs:{src:n("cf05")}})])],1),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",[i("div",{staticStyle:{"font-size":"30px",color:"white",position:"relative",top:"-90px","text-align":"center"}},[e._v("软件开发 定制服务")])])],1),i("el-row",{attrs:{type:"flex",justify:"center"}},[i("el-col",[i("el-upload",{staticClass:"upload-demo",staticStyle:{position:"relative",top:"-60px"},attrs:{action:e.importApi,headers:e.myHeaders,"file-list":e.fileList,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"on-success":e.handleImportSuccess,name:"excel_file",limit:1,"on-exceed":e.handleExceed}},[i("el-button",{staticStyle:{width:"200px"},attrs:{size:"small",type:"primary"},on:{click:e.reset}},[e._v("点击上传Excel文件")]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传excel文件，且不超过10M")])],1)],1)],1),i("transition",{attrs:{name:"el-zoom-in-center"}},[e.showPanel?i("div",{staticStyle:{"background-color":"#2C2C2E",width:"500px",height:"250px","border-radius":"10px",position:"relative",top:"-30px",margin:"auto"}},[i("el-progress",{staticStyle:{width:"95%",position:"relative",top:"20px",left:"10px"},attrs:{"text-inside":!0,"stroke-width":20,percentage:e.percent}}),i("div",{staticStyle:{"margin-top":"50px",color:"white"}},[i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("文件名 ：excel.xlsx")]),i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("记录总数：4000")]),i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("有返回数据：2000")])]),i("div",{staticStyle:{"margin-top":"10px",color:"white"}},[i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("成功记录：excel.xlsx")]),i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("失败记录：1000")]),i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("无返回数据：1000")])]),i("div",{staticStyle:{"margin-top":"10px",color:"white"}},[i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("处理效率：75%")]),i("div",{staticStyle:{display:"inline-block",width:"150px"}},[e._v("实际效率：50%")])]),i("div",[i("el-button",{staticStyle:{width:"200px","margin-top":"40px"},attrs:{size:"small",type:"primary",loading:e.has_file},on:{click:e.exportExcel}},[e._v("导出数据")])],1)],1):e._e()])],1)},S=[],k=(n("b0c0"),n("bc3a")),j=n.n(k),O={data:function(){return{importApi:"/api/import/",myHeaders:{},percent:1,has_file:!0,showPanel:!1,fileList:[]}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(){this.$message.warning("已上传")},beforeRemove:function(e){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleImportSuccess:function(e){var t=this;t.showPanel=!0;var n=setInterval((function(){j.a.get("/api/job/handle/").then((function(e){t.percent=e.data.percent,e.data.has_file&&(t.has_file=!1,console.log("关闭定时任务"),clearInterval(n))}))}),1e3);console.log(e)},exportExcel:function(e){var t=this;j.a.get("/api/cc/").then((function(e){var n=e.data,i=document.createElement("a");i.setAttribute("href",t._global.apiUrl+"upload/"+n),document.body.appendChild(i),i.click()})),console.log(e)},reset:function(){this.fileList=[],this.percent=0,this.has_file=!0}},mounted:function(){var e=this;this.axios.get("/api/token/").then((function(t){e.myHeaders={"X-CSRFToken":t.data.token}})),console.log("888",this._global.apiUrl)}},P=O,E=Object(c["a"])(P,_,S,!1,null,null,null),H=E.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Hello")])},$=[],M={},R=Object(c["a"])(M,C,$,!1,null,null,null),z=R.exports;i["default"].use(w["a"]);var A=new w["a"]({mode:"history",routes:[{path:"/",component:H,name:"index"},{path:"/home",component:z,name:"home"}]}),I=n("2106"),T=n.n(I);i["default"].use(T.a,j.a),i["default"].config.productionTip=!1,i["default"].use(d.a),i["default"].prototype._global=b,new i["default"]({router:A,render:function(e){return e(p)}}).$mount("#app")},"85ec":function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.5eb20e19.png"}});
//# sourceMappingURL=app.bcfc3068.js.map